<!DOCTYPE html>
<html lang="en">
<head><meta name="generator" content="Hexo 3.8.0">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="google-site-verification" content="xBT4GhYoi5qRD5tr338pgPM5OWHHIDR6mNg1a3euekI">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="李博的博客">
    <meta name="keyword" content="striveliboo">
    <link rel="shortcut icon" href="/img/favicon.ico">

    <title>
        
        【随笔】201903 - Liboo的博客 | Liboo&#39;s Blog
        
    </title>

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/aircloud.css">
    <link rel="stylesheet" href="/css/gitment.css">
    <!--<link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">-->
    <link href="//at.alicdn.com/t/font_620856_pl6z7sid89qkt9.css" rel="stylesheet" type="text/css">
    <!-- ga & ba script hoook -->
    <script></script>
</head>

<body>

<div class="site-nav-toggle" id="site-nav-toggle">
    <button>
        <span class="btn-bar"></span>
        <span class="btn-bar"></span>
        <span class="btn-bar"></span>
    </button>
</div>

<div class="index-about">
    <i> Internet of Everything, Everywhere. </i>
</div>

<div class="index-container">
    
    <div class="index-left">
        
<div class="nav" id="nav">
    <div class="avatar-name">
        <div class="avatar">
            <img src="/img/avatar.jpg">
        </div>
        <div class="name">
            <i>H2K1E~ACE</i>
        </div>
    </div>
    <div class="contents" id="nav-content">
        <ul>
            <li>
                <a href="/">
                    <i class="iconfont icon-shouye1"></i>
                    <span>主页</span>
                </a>
            </li>
            <li>
                <a href="/tags">
                    <i class="iconfont icon-biaoqian1"></i>
                    <span>标签</span>
                </a>
            </li>
            <li>
                <a href="/archive">
                    <i class="iconfont icon-guidang2"></i>
                    <span>存档</span>
                </a>
            </li>
            <li>
                <a href="/about/">
                    <i class="iconfont icon-guanyu2"></i>
                    <span>关于</span>
                </a>
            </li>
            
            <li>
                <a id="search">
                    <i class="iconfont icon-sousuo1"></i>
                    <span>搜索</span>
                </a>
            </li>
            
        </ul>
    </div>
    
        <div id="toc" class="toc-article">
    <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#2019-03-28"><span class="toc-text">2019-03-28</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-Linux常用操作命令"><span class="toc-text">1. Linux常用操作命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-硬链接和软连接"><span class="toc-text">2. 硬链接和软连接</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-大文件删除后空间未释放"><span class="toc-text">3. 大文件删除后空间未释放</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-数据库（mysql）的主从复制和双机热备"><span class="toc-text">4. 数据库（mysql）的主从复制和双机热备</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-数据库最大连接数配置、简单数据库优化"><span class="toc-text">5. 数据库最大连接数配置、简单数据库优化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-网络抓包"><span class="toc-text">6. 网络抓包</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-vi-vim操作快捷键"><span class="toc-text">7. vi/vim操作快捷键</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-Django框架使用"><span class="toc-text">8. Django框架使用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-Docker和K8S"><span class="toc-text">9. Docker和K8S</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-Python"><span class="toc-text">10. Python</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-Shell"><span class="toc-text">11. Shell</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#12-OpenStack"><span class="toc-text">12. OpenStack</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#13-监控Nagios、Zabbix"><span class="toc-text">13. 监控Nagios、Zabbix</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#14-Nginx、Tomcat、Apache"><span class="toc-text">14. Nginx、Tomcat、Apache</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#15-网络5-7层模型"><span class="toc-text">15. 网络5/7层模型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#16-TCP三次握手四次断开"><span class="toc-text">16. TCP三次握手四次断开</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#17-FTP传输的两种模式"><span class="toc-text">17. FTP传输的两种模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#18-Ansible"><span class="toc-text">18. Ansible</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#19-存储相关"><span class="toc-text">19. 存储相关</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2019-03-26"><span class="toc-text">2019-03-26</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#一、NAS存储特点（Network-Attached-Storage-网络直连存储"><span class="toc-text">一、NAS存储特点（Network Attached Storage 网络直连存储)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#二、DAS存储特点（Direct-attached-Storage-直连存储）"><span class="toc-text">二、DAS存储特点（Direct-attached Storage 直连存储）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#三、SAN存储（Storage-Area-Networking-光纤存储）"><span class="toc-text">三、SAN存储（Storage Area Networking 光纤存储）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#DAS、NAS和SAN存储的主要区别"><span class="toc-text">DAS、NAS和SAN存储的主要区别</span></a></li></ol></li></ol>
</div>
    
</div>


<div class="search-field" id="search-field">
    <div class="search-container">
        <div class="search-input">
            <span id="esc-search"> <i class="icon-fanhui iconfont"></i></span>
            <input id="search-input">
            <span id="begin-search">搜索</span>
        </div>
        <div class="search-result-container" id="search-result-container">

        </div>
    </div>
</div>
        <div class="index-about-mobile">
            <i> Internet of Everything, Everywhere. </i>
        </div>
    </div>
    
    <div class="index-middle">
        <!-- Main Content -->
        


<div class="post-container">
    <div class="post-title">
        【随笔】201903
    </div>

    <div class="post-meta">
        <span class="attr">发布于：<span>2019-03-31 23:59:59</span></span>
        
        <span class="attr">标签：/
        
        <a class="tag" href="/tags/#随笔" title="随笔">随笔</a>
        <span>/</span>
        
        <a class="tag" href="/tags/#201903" title="201903">201903</a>
        <span>/</span>
        
        <a class="tag" href="/tags/#面试" title="面试">面试</a>
        <span>/</span>
        
        
        </span>
        <span class="attr">访问：<span id="busuanzi_value_page_pv"></span>
</span>

    </div>
    <div class="post-content ">
        <h2 id="2019-03-28"><a href="#2019-03-28" class="headerlink" title="2019-03-28"></a>2019-03-28</h2><h3 id="1-Linux常用操作命令"><a href="#1-Linux常用操作命令" class="headerlink" title="1. Linux常用操作命令"></a>1. Linux常用操作命令</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">sed</span><br><span class="line">awk</span><br><span class="line">grep</span><br><span class="line">ps</span><br><span class="line">netstat/ss</span><br><span class="line">ip/ifconfig</span><br><span class="line">top</span><br><span class="line">df</span><br><span class="line">cat/more/less/tail/head</span><br><span class="line">fdisk</span><br><span class="line">find</span><br><span class="line">uname</span><br></pre></td></tr></table></figure>
<h3 id="2-硬链接和软连接"><a href="#2-硬链接和软连接" class="headerlink" title="2. 硬链接和软连接"></a>2. 硬链接和软连接</h3><figure class="highlight dns"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">硬链接和软链接的区别</span><br><span class="line"></span><br><span class="line"><span class="number">1</span>.原理上：</span><br><span class="line"></span><br><span class="line">硬链接(hard link)：文件<span class="keyword">A</span>是文件B的硬链接，则<span class="keyword">A</span>的目录项中的inode节点号与B的目录项中的inode节点号相同，即一个inode节点对应两个不同的文件名，两个文件名指向同一个文件，<span class="keyword">A</span>和B对文件系统来说是完全平等的。如果删除了其中一个，对另外一个没有影响。每增加一个文件名，inode节点上的链接数增加一，每删除一个对应的文件名，inode节点上的链接数减一，直到为<span class="number">0</span>，inode节点和对应的数据块被回收。注：文件和文件名是不同的东西，rm <span class="keyword">A</span>删除的只是<span class="keyword">A</span>这个文件名，而<span class="keyword">A</span>对应的数据块（文件）只有在inode节点链接数减少为<span class="number">0</span>的时候才会被系统回收。</span><br><span class="line"></span><br><span class="line">软链接(soft link)：<span class="keyword">A</span>是B的软链接（<span class="keyword">A</span>和B都是文件名），<span class="keyword">A</span>的目录项中的inode节点号与B的目录项中的inode节点号不相同，<span class="keyword">A</span>和B指向的是两个不同的inode，继而指向两块不同的数据块。但是<span class="keyword">A</span>的数据块中存放的只是B的路径名（可以根据这个找到B的目录项）。<span class="keyword">A</span>和B之间是“主从”关系，如果B被删除了，<span class="keyword">A</span>仍然存在（因为两个是不同的文件），但指向的是一个无效的链接。</span><br><span class="line"></span><br><span class="line"><span class="number">2</span>.使用限制上：</span><br><span class="line"></span><br><span class="line">硬链接：</span><br><span class="line">a：不能对目录创建硬链接，原因有几种，最重要的是：文件系统不能存在链接环（目录创建时的”..”除外，这个系统可以识别出来）,存在环的后果会导致例如文件遍历等操作的混乱(du，pwd等命令的运作原理就是基于文件硬链接，顺便一提，ls -l结果的第二列也是文件的硬链接数，即inode节点的链接数)</span><br><span class="line">b：不能对不同的文件系统创建硬链接,即两个文件名要在相同的文件系统下。</span><br><span class="line">c：不能对不存在的文件创建硬链接，由原理即可知原因。</span><br><span class="line"></span><br><span class="line">软链接：</span><br><span class="line">a.可以对目录创建软链接，遍历操作会忽略目录的软链接。</span><br><span class="line">b:可以跨文件系统</span><br><span class="line">c:可以对不存在的文件创建软链接，因为放的只是一个字符串，至于这个字符串是不是对于一个实际的文件，就是另外一回事了</span><br><span class="line"></span><br><span class="line"><span class="number">3</span>.命令</span><br><span class="line"></span><br><span class="line">硬链接：ln 源文件名 链接名</span><br><span class="line">软链接：ln -s 源文件名 链接名</span><br><span class="line"></span><br><span class="line"><span class="number">4</span>.硬链接和软链接的作用</span><br><span class="line"></span><br><span class="line">硬链接：</span><br><span class="line">硬连接的作用是允许一个文件拥有多个有效路径名，这样用户就可以建立硬连接到重要文件，以防止“误删”的功能。只删除一个连接并不影响节点本身和其它的连接，只有当最后一个连接被删除后，文件的数据块及目录的连接才会被释放。也就是说，文件真正删除的条件是与之相关的所有硬连接文件均被删除。</span><br><span class="line"></span><br><span class="line">还有如果把链接名创建为一个以.开头的隐藏文件，还能很好的隐藏自己的隐私（你们懂的..呵呵呵）。</span><br><span class="line"></span><br><span class="line">软链接：</span><br><span class="line">软链接又称之为符号连接（Symbolic Link）。软链接文件类似于Windows的快捷方式。它实际上是一个特殊的文件。在符号连接中，文件实际上是一个文本文件，其中包含的有另一文件的位置信息。</span><br></pre></td></tr></table></figure>
<h3 id="3-大文件删除后空间未释放"><a href="#3-大文件删除后空间未释放" class="headerlink" title="3. 大文件删除后空间未释放"></a>3. 大文件删除后空间未释放</h3><figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">（<span class="number">1</span>）在一台配置较低的<span class="type">Linux</span>服务器（内存、硬盘比较小）的/<span class="class"><span class="keyword">data</span>分区内创建文件时，系统提示磁盘空间不足，用df -h命令查看了一下磁盘使用情况，发现/<span class="keyword">data</span>分区只使用了66%，还有12G的剩余空间，按理说不会出现这种问题。 后来用df -i查看了一下/<span class="keyword">data</span>分区的索引节点(<span class="title">inode</span>)，发现已经用满(<span class="type">IUsed</span>=100%)，导致系统无法创建新目录和文件。 </span></span><br><span class="line"></span><br><span class="line">查找原因：</span><br><span class="line">　　/<span class="class"><span class="keyword">data</span>/cache目录中存在数量非常多的小字节缓存文件，占用的<span class="type">Block</span>不多，但是占用了大量的inode。 </span></span><br><span class="line"></span><br><span class="line">解决方案：</span><br><span class="line">　　<span class="number">1</span>、删除/<span class="class"><span class="keyword">data</span>/cache目录中的部分文件，释放出/<span class="keyword">data</span>分区的一部分inode。</span></span><br><span class="line">　　<span class="number">2</span>、用软连接将空闲分区/opt中的newcache目录连接到/<span class="class"><span class="keyword">data</span>/cache，使用/opt分区的inode来缓解/<span class="keyword">data</span>分区inode不足的问题：</span></span><br><span class="line">　　ln -s /opt/newcache /<span class="class"><span class="keyword">data</span>/cache </span></span><br><span class="line"></span><br><span class="line">（<span class="number">2</span>）现象：删除log后df看空间未释放</span><br><span class="line"></span><br><span class="line">解决方案：</span><br><span class="line"><span class="number">1.</span>rm删除文件后，用lsof | grep <span class="type">XXX</span> 查找使用该文件的进程，kill进程即可立即释放空间。</span><br><span class="line"><span class="number">2.</span>更好的方法是使用echo <span class="string">" "</span>&gt;file命令在线清空该文件。</span><br><span class="line"></span><br><span class="line"><span class="title">lsof</span>命令用于查看你进程开打的文件，打开文件的进程，进程打开的端口(<span class="type">TCP</span>、<span class="type">UDP</span>)。找回/恢复删除的文件。是十分方便的系统监视工具，因为lsof命令需要访问核心内存和各种文件，所以需要root用户执行。</span><br></pre></td></tr></table></figure>
<h3 id="4-数据库（mysql）的主从复制和双机热备"><a href="#4-数据库（mysql）的主从复制和双机热备" class="headerlink" title="4. 数据库（mysql）的主从复制和双机热备"></a>4. 数据库（mysql）的主从复制和双机热备</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">主从复制处理不同步</span></span><br><span class="line">slave</span><br></pre></td></tr></table></figure>
<h3 id="5-数据库最大连接数配置、简单数据库优化"><a href="#5-数据库最大连接数配置、简单数据库优化" class="headerlink" title="5. 数据库最大连接数配置、简单数据库优化"></a>5. 数据库最大连接数配置、简单数据库优化</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">mysql最大连接数</span></span><br><span class="line">set GLOBAL max_connections=200</span><br><span class="line">show processlist</span><br></pre></td></tr></table></figure>
<h3 id="6-网络抓包"><a href="#6-网络抓包" class="headerlink" title="6. 网络抓包"></a>6. 网络抓包</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">wireshark</span></span><br><span class="line">wireshark使用pcap network library来进行封包捕捉。Lipcap（Linux）或者Winpcap（Windows）。</span><br><span class="line">因为使用winpcap是直接进行网卡抓包的，所以Wireshark能够捕获到经过网卡的所有包，但是这样也造成在用wireshark对HTTPS包抓取的时候它只能抓到解析前的包数据，一般情况下不能直接解析，当然如果你一定要解析内容页是可以做到的，网上搜索一下也能找到相关的教程。</span><br><span class="line"><span class="meta">#</span><span class="bash">fiddler</span></span><br><span class="line">fiddler的实现方式和wireshark不同，它并不对网卡进行监听，而只是以代理web服务器的形式工作。它使用代理地址:127.0.0.1，端口:8888。当Fiddler退出的时候它会自动注销，这样就不会影响别的程序。他的实现方式也解释了为什么使用fiddler进行网络抓包的时候，当某些应用进行没有真实证书的https访问的时候，fiddler会有一个弹出框警示。</span><br><span class="line"><span class="meta">#</span><span class="bash"> 路由跟踪</span></span><br><span class="line">tracerouter</span><br></pre></td></tr></table></figure>
<h3 id="7-vi-vim操作快捷键"><a href="#7-vi-vim操作快捷键" class="headerlink" title="7. vi/vim操作快捷键"></a>7. vi/vim操作快捷键</h3><figure class="highlight gams"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>、vi的三种模式</span><br><span class="line">命令（默认）、编辑、尾行</span><br><span class="line"></span><br><span class="line"><span class="number">2</span>、切换到编辑模式的四种方式，编辑模式可以输入任意内容</span><br><span class="line">　　a 光标向后移动一位</span><br><span class="line">　　i  当前位置</span><br><span class="line">　　o 另起新行</span><br><span class="line">　　s 删除光标所在字符</span><br><span class="line">　　r 替换光标所在字符</span><br><span class="line"></span><br><span class="line"><span class="number">3</span>、尾行模式，用于保存内容、查找替换、设置行号等等功能性操作</span><br><span class="line">　　:q　　  <span class="comment">//quit退出vi编辑器</span></span><br><span class="line">　　:w　　 <span class="comment">//write保存修改的内容</span></span><br><span class="line">　　:wq　　<span class="comment">//保存并退出</span></span><br><span class="line">　　:q!　　<span class="comment">//强制退出，当对文本内容作了修改而不想要保存时</span></span><br><span class="line">　　:w!　　<span class="comment">//强制保存，当没有文本的写权限时</span></span><br><span class="line">　　:<span class="keyword">set</span> number　　或　　:<span class="keyword">set</span> <span class="comment">nu</span>　　//显示行号</span><br><span class="line">　　:<span class="keyword">set</span> <span class="comment">nonumber</span>　　或　　<span class="comment">:set nonu</span>　　//取消显示行号 </span><br><span class="line">　　:/内容/　　或　　/内容　　<span class="comment">//查找指定内容　　//n将光标移动到下一个目标　　//N上一个</span></span><br><span class="line">　　:n　　<span class="comment">//跳转到第n行</span></span><br><span class="line">　　:s/targetContent/newContent　　<span class="comment">//替换当前行第一个targetContent为newContent</span></span><br><span class="line">　　:s/targetContent/newContent/g　　<span class="comment">//整行相应内容替换</span></span><br><span class="line">　　:%s/targetContent/newContent  <span class="comment">&lt;==&gt;</span>　<span class="comment">:1,$s</span>/word1/<span class="comment">word2</span>/g　<span class="comment">//整个文本相应内容替换     </span></span><br><span class="line">　　:n1,n2s/<span class="comment">word1</span>/word2/<span class="comment">gc</span>　　　　　　//<span class="comment">:100,200s</span>/word1/<span class="comment">word2</span>/g   把<span class="number">100</span>行到<span class="number">200</span>行之间的word1替换为word2，并提示是否替换  c-&gt;confirm　</span><br><span class="line"></span><br><span class="line"><span class="number">4</span>、命令模式</span><br><span class="line">　　<span class="number">1</span>）光标移动</span><br><span class="line">　　　　a、字符级</span><br><span class="line">　　　　　　左（h）　　下（j）　　上（k）　　右（l）</span><br><span class="line">　　　　b、单词级</span><br><span class="line">　　　　　　w word移动到下个单词首字母</span><br><span class="line">　　　　　　b before上个单词首字母</span><br><span class="line">　　　　　　e end下个单词结尾</span><br><span class="line">　　　　c、行级</span><br><span class="line">　　　　　　<span class="number">0</span> 行首</span><br><span class="line">　　　　　　$ 行尾</span><br><span class="line">　　　　d、段落级&#123; 上  &#125; 下(没必要记忆)</span><br><span class="line">　　　　e、屏幕级 H屏首　　L屏尾(没必要记忆)</span><br><span class="line">　　　　f、文档级</span><br><span class="line">　　　　　　G 文档尾部</span><br><span class="line">　　　　　　nG 文档第n行</span><br><span class="line">　　　　　　gg 文档第一行</span><br><span class="line">　　　　　　crtl+f  &lt;--&gt; pagedown向下翻页</span><br><span class="line">　　　　　　crtl+b &lt;--&gt; pageup向上翻页</span><br><span class="line">　　　　　　n+enter      向下移动n行</span><br><span class="line">　　<span class="number">2</span>）内容删除</span><br><span class="line">　　　　dd　　<span class="comment">//删除当前行</span></span><br><span class="line">　　　　ndd　　<span class="comment">//自当前行向下删除n行</span></span><br><span class="line">　　　　x　　<span class="comment">//删除当前字符</span></span><br><span class="line">　　　　cw　　<span class="comment">//删除光标所在字母后面的字符</span></span><br><span class="line">　　<span class="number">3</span>）内容复制</span><br><span class="line">　　　　yy　　<span class="comment">//复制光标当前行</span></span><br><span class="line">　　　　nyy　　<span class="comment">//自当前行复制n行</span></span><br><span class="line">　　　　p　　<span class="comment">//对（删除）复制的内容进行粘贴</span></span><br><span class="line">　　<span class="number">4</span>）相关快捷操作</span><br><span class="line">　　　　u　　<span class="comment">//撤销</span></span><br><span class="line">　　　　.　　<span class="comment">//重复上次操作</span></span><br></pre></td></tr></table></figure>
<h3 id="8-Django框架使用"><a href="#8-Django框架使用" class="headerlink" title="8. Django框架使用"></a>8. Django框架使用</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">中间件（缓存机制mencache Redis）</span><br><span class="line">高并发，大批量数据访问</span><br></pre></td></tr></table></figure>
<h3 id="9-Docker和K8S"><a href="#9-Docker和K8S" class="headerlink" title="9. Docker和K8S"></a>9. Docker和K8S</h3><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">crontab 是用来让使用者在固定时间或固定间隔执行程序之用，换句话说，也就是类似使用者的时程表。</span><br><span class="line">容器导出（import/export元数据丢失），镜像导出（save/load保留历史）</span><br><span class="line">容器生命周期管理</span><br><span class="line">run</span><br><span class="line">start/stop/restart</span><br><span class="line">kill</span><br><span class="line">rm</span><br><span class="line">pause/unpause</span><br><span class="line">create</span><br><span class="line">exec</span><br><span class="line">容器操作</span><br><span class="line">ps</span><br><span class="line">inspect</span><br><span class="line">top</span><br><span class="line">attach</span><br><span class="line">events</span><br><span class="line">logs</span><br><span class="line">wait</span><br><span class="line">export</span><br><span class="line">port</span><br><span class="line">容器rootfs命令</span><br><span class="line">commit</span><br><span class="line">cp</span><br><span class="line">diff</span><br><span class="line">镜像仓库</span><br><span class="line">login</span><br><span class="line">pull</span><br><span class="line">push</span><br><span class="line">search</span><br><span class="line">本地镜像管理</span><br><span class="line">images</span><br><span class="line">rmi</span><br><span class="line">tag</span><br><span class="line">build</span><br><span class="line">history</span><br><span class="line">save</span><br><span class="line">import</span><br><span class="line">info|version</span><br><span class="line">info</span><br><span class="line">version</span><br></pre></td></tr></table></figure>
<h3 id="10-Python"><a href="#10-Python" class="headerlink" title="10. Python"></a>10. Python</h3><figure class="highlight oxygene"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">多线程、</span><br><span class="line">方法<span class="number">1</span>：直接使用threading.Thread()</span><br><span class="line">方法<span class="number">2</span>：继承threading.Thread来自定义线程类，重写run方法</span><br><span class="line"><span class="keyword">Join</span>函数执行顺序是逐个执行每个线程，执行完毕后继续往下执行。主线程结束后，子线程还在运行，<span class="keyword">join</span>函数使得主线程等到子线程结束时才退出。</span><br><span class="line"></span><br><span class="line">多进程、</span><br><span class="line">方法<span class="number">1</span>：直接使用Process</span><br><span class="line">方法<span class="number">2</span>：继承Process来自定义进程类，重写run方法</span><br><span class="line">Queue 是多进程安全的队列，可以实现多进程之间的数据传递。它主要有两个函数,put和get。</span><br><span class="line"></span><br><span class="line">协程（<span class="keyword">yield</span>）</span><br><span class="line">根据维基百科给出的定义，“协程 是为非抢占式多任务产生子程序的计算机程序组件，协程允许不同入口点在不同位置暂停或开始执行程序”。从技术的角度来说，“协程就是你可以暂停执行的函数”。如果你把它理解成“就像生成器一样”，那么你就想对了。</span><br><span class="line"></span><br><span class="line">GIL（全局解释锁）</span><br><span class="line"></span><br><span class="line">先到先得</span><br><span class="line"></span><br><span class="line">装饰器</span><br><span class="line">简言之，python装饰器就是用于拓展原来函数功能的一种函数，这个函数的特殊之处在于它的返回值也是一个函数，使用python装饰器的好处就是在不用更改原函数的代码前提下给函数增加新的功能。</span><br><span class="line"></span><br><span class="line">类</span><br><span class="line"></span><br><span class="line">异常捕获</span><br><span class="line"><span class="keyword">try</span>/<span class="keyword">except</span>（捕获异常继续运行）</span><br><span class="line"><span class="keyword">try</span>/<span class="keyword">except</span>/<span class="keyword">else</span></span><br><span class="line"><span class="keyword">try</span>/<span class="keyword">finally</span>（退出<span class="keyword">try</span>总会执行<span class="keyword">finally</span>）</span><br><span class="line"><span class="keyword">try</span>/<span class="keyword">except</span>/<span class="keyword">finally</span></span><br><span class="line"><span class="keyword">raise</span>（捕获到异常直接退出）</span><br><span class="line"></span><br><span class="line">单例模式（实现__new__方法/共享属性/使用__metaclass__（元类））</span><br></pre></td></tr></table></figure>
<h3 id="11-Shell"><a href="#11-Shell" class="headerlink" title="11. Shell"></a>11. Shell</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="12-OpenStack"><a href="#12-OpenStack" class="headerlink" title="12. OpenStack"></a>12. OpenStack</h3><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">horizon</span></span><br><span class="line"><span class="symbol">nova</span></span><br><span class="line"><span class="symbol">neutron</span></span><br><span class="line"><span class="symbol">glance</span></span><br><span class="line"><span class="symbol">cinder</span></span><br><span class="line"><span class="keyword">swift</span></span><br><span class="line"><span class="keyword">keystone</span></span><br><span class="line"><span class="keyword"></span></span><br><span class="line"><span class="keyword">kvm/qemu</span></span><br><span class="line"><span class="keyword">libvirt/virsh</span></span><br><span class="line"><span class="keyword">openvswitch</span></span><br><span class="line"><span class="keyword">vxlan、openflow、SDN、BGP</span></span><br></pre></td></tr></table></figure>
<h3 id="13-监控Nagios、Zabbix"><a href="#13-监控Nagios、Zabbix" class="headerlink" title="13. 监控Nagios、Zabbix"></a>13. 监控Nagios、Zabbix</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="14-Nginx、Tomcat、Apache"><a href="#14-Nginx、Tomcat、Apache" class="headerlink" title="14. Nginx、Tomcat、Apache"></a>14. Nginx、Tomcat、Apache</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">缓存</span><br><span class="line">代理/反向代理</span><br><span class="line">负载均衡</span><br><span class="line">集群</span><br><span class="line">高可用</span><br></pre></td></tr></table></figure>
<h3 id="15-网络5-7层模型"><a href="#15-网络5-7层模型" class="headerlink" title="15. 网络5/7层模型"></a>15. 网络5/7层模型</h3><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">应用层（表示层，会话层）（<span class="keyword">ftp</span>/<span class="keyword">http</span>/<span class="keyword">https</span>/dhcp）</span><br><span class="line">传输层（tcp/udp）</span><br><span class="line">网络层（ip）</span><br><span class="line">数据链路层（mac）</span><br><span class="line">物理层（物理连接）</span><br></pre></td></tr></table></figure>
<h3 id="16-TCP三次握手四次断开"><a href="#16-TCP三次握手四次断开" class="headerlink" title="16. TCP三次握手四次断开"></a>16. TCP三次握手四次断开</h3><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">置位概念：根据TCP的包头字段，存在三个重要的标识ACK、SYN、FIN</span><br><span class="line">ACK：表示验证字段</span><br><span class="line">SYN：位数置为<span class="number">1</span>，表示建立TCP连接</span><br><span class="line">FIN：位数置为<span class="number">1</span>，表示断开TCP连接</span><br><span class="line"></span><br><span class="line"><span class="number">1</span>、TCP与UDP区别总结：</span><br><span class="line"></span><br><span class="line"><span class="number">1</span>、TCP面向连接（如打电话要先拨号建立连接）;UDP是无连接的，即发送数据之前不需要建立连接</span><br><span class="line"><span class="number">2</span>、TCP提供可靠的服务。也就是说，通过TCP连接传送的数据，无差错，不丢失，不重复，且按序到达;UDP尽最大努力交付，即不保证可靠交付</span><br><span class="line"></span><br><span class="line">Tcp通过校验和，重传控制，序号标识，滑动窗口、确认应答实现可靠传输。如丢包时的重发控制，还可以对次序乱掉的分包进行顺序控制。</span><br><span class="line"></span><br><span class="line"><span class="number">3</span>、UDP具有较好的实时性，工作效率比TCP高，适用于对高速传输和实时性有较高的通信或广播通信。</span><br><span class="line"><span class="number">4.</span>每一条TCP连接只能是点到点的;UDP支持一对一，一对多，多对一和多对多的交互通信</span><br><span class="line"><span class="number">5</span>、TCP对系统资源要求较多，UDP对系统资源要求较少。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="number">2</span>、为什么UDP有时比TCP更有优势?</span><br><span class="line"></span><br><span class="line">UDP以其简单、传输快的优势，在越来越多场景下取代了TCP,如实时游戏。</span><br><span class="line">（<span class="number">1</span>）网速的提升给UDP的稳定性提供可靠网络保障，丢包率很低，如果使用应用层重传，能够确保传输的可靠性。</span><br><span class="line">（<span class="number">2</span>）TCP为了实现网络通信的可靠性，使用了复杂的拥塞控制算法，建立了繁琐的握手过程，由于TCP内置的系统协议栈中，极难对其进行改进。</span><br><span class="line"></span><br><span class="line">采用TCP，一旦发生丢包，TCP会将后续的包缓存起来，等前面的包重传并接收到后再继续发送，延时会越来越大，基于UDP对实时性要求较为严格的情况下，采用自定义重传机制，能够把丢包产生的延迟降到最低，尽量减少网络问题对游戏性造成影响。</span><br></pre></td></tr></table></figure>
<h3 id="17-FTP传输的两种模式"><a href="#17-FTP传输的两种模式" class="headerlink" title="17. FTP传输的两种模式"></a>17. FTP传输的两种模式</h3><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">FTP的两种连接方式：PORT模式和PASV模式，中文意思为主动式和被动式。</span><br><span class="line"></span><br><span class="line">PORT（主动）模式的连接过程是：客户端向服务器的FTP端口（默认是21）发送连接请求，服务器接受连接，建立一条命令链路。</span><br><span class="line">工作原理：当需要传送数据时，客户端在命令链路上用 PORT命令告诉服务器：“我打开了**端口，你过来连接我”。当服务端收到这个Port命令后就会向客户端打开的那个端口发送连接请求，建立一条数据链路来传送数据。</span><br><span class="line"></span><br><span class="line">PASV（被动）模式的连接过程是：客户端向服务器的FTP端口（默认是21）发送连接请求，服务器接受连接，建立一条命令链路。</span><br><span class="line">工作原理：需要传送数据时，服务器在命令链路上用 PASV命令告诉客户端：“我打开了**端口，你过来连接我”。当客户端收到这个信息后，就可以向服务端的端口发送连接请求，建立一条数据链路来传送数据。</span><br><span class="line"></span><br><span class="line">FTP的两种传输方式：ASCII 和 BINARY</span><br><span class="line"></span><br><span class="line">ASCII模式和Binary模式的区别是回车换行的处理，Binary模式不对数据进行任何处理，ASCII模式将回车换行转换为本机的回车字符，比如：UNIX下是\n,Windows下是\r\n，Mac下是\r。</span><br><span class="line">ASCII模式下会转换文件，不能说是不同系统对回车换行解释不同，而是不同的系统有不同的行结束符。UNIX系统下行结束符是一个字节，即十六进制的0A，而Windows的系统是两个字节，即十六进制的0D0A，所以当你用ASCII方式从UNIX的FTP Server下载文件到Windows系统上时(不管是二进制或者文本文件)，每检测到一个字节是0A，就会自动插入一个0D，所以如果你的文件是二进制文件，比如可执行文件、压缩包什么的，就肯定不能用了。如果你的文件就是UNIX下的文本文件，你用ASCII模式是正确的，要是误用了Binary模式，你在Windows上看这个文件是没有换行的，里面是一个个的黑方块。</span><br><span class="line">一般来说，我们最好都用Binary方式，这样可以保证不出错。如果有文本格式转换的问题，即UNIX格式的文本和DOS格式的文本之间的转换，有很多工具可以做的，不要在ftp传输的时候冒险，尤其是你如果对这些东西不是非常清楚的话。</span><br><span class="line"></span><br><span class="line">如何设置FTP的传输方式呢？</span><br><span class="line">在ftp&gt;提示符下输入ascii即转换到ACSII方式，输入bin，即转换到Binary方式.</span><br><span class="line">ftp&gt; ascii</span><br><span class="line">200<span class="built_in"> Type </span><span class="builtin-name">set</span> <span class="keyword">to</span> A.</span><br><span class="line"></span><br><span class="line">ftp&gt; bin</span><br><span class="line">200<span class="built_in"> Type </span><span class="builtin-name">set</span> <span class="keyword">to</span> I.</span><br></pre></td></tr></table></figure>
<h3 id="18-Ansible"><a href="#18-Ansible" class="headerlink" title="18. Ansible"></a>18. Ansible</h3><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">ansible 常用模块</span><br><span class="line"><span class="number">1</span>）主机连通性测试</span><br><span class="line"><span class="number">2</span>）command 模块</span><br><span class="line"><span class="number">3</span>）shell 模块</span><br><span class="line"><span class="number">4</span>）copy 模块</span><br><span class="line"><span class="number">5</span>）file 模块</span><br><span class="line"><span class="number">6</span>）fetch 模块</span><br><span class="line"><span class="number">7</span>）cron 模块</span><br><span class="line"><span class="number">8</span>）yum 模块</span><br><span class="line"><span class="number">9</span>）service 模块</span><br><span class="line"><span class="number">10</span>）user 模块</span><br><span class="line"><span class="number">11</span>）group 模块</span><br><span class="line"><span class="number">12</span>）script 模块</span><br><span class="line"><span class="number">13</span>）setup 模块</span><br></pre></td></tr></table></figure>
<h3 id="19-存储相关"><a href="#19-存储相关" class="headerlink" title="19. 存储相关"></a>19. 存储相关</h3><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">lvm</span></span><br><span class="line"><span class="attribute">ceph</span></span><br><span class="line"><span class="attribute">fastDFS</span></span><br></pre></td></tr></table></figure>
<h2 id="2019-03-26"><a href="#2019-03-26" class="headerlink" title="2019-03-26"></a>2019-03-26</h2><h3 id="一、NAS存储特点（Network-Attached-Storage-网络直连存储"><a href="#一、NAS存储特点（Network-Attached-Storage-网络直连存储" class="headerlink" title="一、NAS存储特点（Network Attached Storage 网络直连存储)"></a>一、NAS存储特点（Network Attached Storage 网络直连存储)</h3><p>NAS(网络附加存储)方式则全面改进了以前低效的DAS存储方式。它采用独立于服务器，单独为网络数据存储而开发的一种文件服务器来连接所存储设备，自形成一个网络。这样数据存储就不再是服务器的附属，而是作为独立网络节点而存在于网络之中，可由所有的网络用户共享。</p>
<p>同时NAS存储真正做到了即插即用，并且部署起来也相对灵活，再加上管理成本低，是目前企业选择较多的，但它同时也有存储性能低和可靠度不高等缺点。</p>
<h3 id="二、DAS存储特点（Direct-attached-Storage-直连存储）"><a href="#二、DAS存储特点（Direct-attached-Storage-直连存储）" class="headerlink" title="二、DAS存储特点（Direct-attached Storage 直连存储）"></a>二、DAS存储特点（Direct-attached Storage 直连存储）</h3><p>DAS这种存储方式与我们普通的PC存储架构一样，外部存储设备都是直接挂接在服务器内部总线上，数据存储设备是整个服务器结构的一部份，DAS存储方式主要适用于小型网络、地理位置分散的网络和特殊服务器上。</p>
<p>DAS已经存在了很长时间，并且在很多情况下仍然是一种不错的存储选择。由于这种存储方式在磁盘系统和服务器之间具有很快的传输速率，因此，虽然在一些部门中一些新的SAN设备已经开始取代DAS，但是在要求快速磁盘访问的情况下，DAS仍然是一种理想的选择。更进一步地，在DAS环境中，运转大多数的应用程序都不会存在问题，所以你没有必要担心应用程序问题，从而可以将注意力集中于其他可能会导致问题的领域。</p>
<h3 id="三、SAN存储（Storage-Area-Networking-光纤存储）"><a href="#三、SAN存储（Storage-Area-Networking-光纤存储）" class="headerlink" title="三、SAN存储（Storage Area Networking 光纤存储）"></a>三、SAN存储（Storage Area Networking 光纤存储）</h3><p>SAN存储是基于光纤介质，最大传输速率达17MB/s的服务器访问存储器的一种连接方式，同时SAN也是最昂贵和最复杂的存储选项，SAN存储方式创造了存储的网络化，存储网络化顺应了计算机服务器体系结构网络化的趋势，SAN的支撑技术是光纤通道(FC Fiber Channel)技术，它是ANSI为网络和通道I/O接口建立的一个标准集成，FC技术支持HIPPI、IPI、SCSI、IP、ATM等多种高级协议，其最大特性是将网络和设备的通信协议与传输物理介质隔离开，这样多种协议可在同一个物理连接上同时传送。</p>
<p>如今的SAN解决方案通常会采取以下两种形式：光纤信道以及iSCSI或者基于IP的SAN。光纤信道是SAN解决方案中大家最熟悉的类型，但是，最近一段时间以来，基于iSCSI的SAN解决方案开始大量出现在市场上，与光纤通道技术相比较而言，这种技术具有良好的性能，而且价格低廉。</p>
<p>SAN真正的综合了DAS和NAS两种存储解决方案的优势。例如，在一个很好的SAN解决方案实现中，你可以得到一个完全冗余的存储网络，这个存储网络具有不同寻常的扩展性，确切地说，你可以得到只有NAS存储解决方案才能得到的几百T字节的存储空间，但是你还可以得到块级数据访问功能，而这些功能只能在DAS解决方案中才能得到。对于数据访问来说，你还可以得到一个合理的速度，对于那些要求大量磁盘访问的操作来说，SAN显得具有更好的性能。利用SAN解决方案，你还可以实现存储的集中管理，从而能够充分利用那些处于空闲状态的空间。更有优势的一点是，在某些实现中，你甚至可以将服务器配置为没有内部存储空间的服务器，要求所有的系统都直接从SAN（只能在光纤通道模式下实现）引导。这也是一种即插即用技术。</p>
<p>SAN确实具有这些伟大的优点，那么，SAN的缺陷在哪里？SAN有两个较大的缺陷：成本和复杂性，特别是在光纤信道中这些缺陷尤其明显。使用光纤信道的情况下，合理的成本大约是1TB或者2TB大概需要五万到六万美金。从另一个角度来看，虽然新推出的基于iSCSI的SAN解决方案大约只需要两万到三万美金，但是其性能却无法和光纤信道相比较。在价格上的差别主要是由于iSCSI技术使用的是现在已经大量生产的吉比特以太网硬件，而光纤通道技术要求特定的价格昂贵的设备。</p>
<h3 id="DAS、NAS和SAN存储的主要区别"><a href="#DAS、NAS和SAN存储的主要区别" class="headerlink" title="DAS、NAS和SAN存储的主要区别"></a>DAS、NAS和SAN存储的主要区别</h3><p>从连接方式上对比，DAS采用了存储设备直接连接应用服务器，具有一定的灵活性和限制性；NAS通过网络（TCP/IP,ATM,FDDI）技术连接存储设备和应用服务器，存储设备位置灵活，随着万兆网的出现，传输速率有了很大的提高；SAN则是通过光纤通道（Fibre Channel）技术连接存储设备和应用服务器，具有很好的传输速率和扩展性能。三种存储方式各有优势，相互共存，占到了现在磁盘存储市场的70%以上。</p>
<p>通过这个图表，大家可以一目了然的了解NAS、DAS和SAN存储的区别，在这个图表中，SAN分成iSCSI和光纤通道两种类型，以帮助你区分这两种技术的不同。</p>
<table>
<thead>
<tr>
<th><strong>存储类型</strong></th>
<th><strong>DAS</strong></th>
<th><strong>NAS</strong></th>
<th><strong>iSCSI/IP SANs</strong></th>
<th><strong>光纤通道</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>价格</td>
<td>价格较低</td>
<td>价格中等</td>
<td>价格中等到较高</td>
<td>价格较高</td>
</tr>
<tr>
<td>可扩展性</td>
<td>非常有限</td>
<td>依赖于解决方案</td>
<td>依赖于解决方案</td>
<td>依赖于解决方案</td>
</tr>
<tr>
<td>可管理性</td>
<td>效率较低</td>
<td>效率较低</td>
<td>非常高效</td>
<td>非常高效</td>
</tr>
<tr>
<td>容错性</td>
<td>一定程度的容错性</td>
<td>一定程度的容错性</td>
<td>容错性很好</td>
<td>容错性很好</td>
</tr>
<tr>
<td>是否适合文件存储</td>
<td>是</td>
<td>是</td>
<td>是</td>
<td>是</td>
</tr>
<tr>
<td>是否适合数据库存储</td>
<td>是</td>
<td>否</td>
<td>通常适合</td>
<td>是</td>
</tr>
<tr>
<td>是否适合网页服务</td>
<td>是</td>
<td>是</td>
<td>是</td>
<td>是</td>
</tr>
<tr>
<td>是否适合Exchange存储</td>
<td>是</td>
<td>否</td>
<td>通常适合</td>
<td>是</td>
</tr>
<tr>
<td>安装的简易性</td>
<td>简单</td>
<td>简单</td>
<td>有一定的困难</td>
<td>非常困难</td>
</tr>
<tr>
<td>灾难恢复的能力</td>
<td>没有</td>
<td>没有</td>
<td>很多</td>
<td>很多</td>
</tr>
<tr>
<td>操作系统的支持</td>
<td>全部</td>
<td>N/A</td>
<td>Windows, Linux, UNIX, NetWare （其他系统是否支持依赖于驱动器本身）</td>
<td>Windows, Linux, UNIX, NetWare（其他系统是否支持依赖于驱动器本身）</td>
</tr>
<tr>
<td>主要提供商</td>
<td>任何服务器提供商</td>
<td>Huawei、IBM, Dell, HP, Network Appliance</td>
<td>Huawei、LeftHand, EMC, HP, IBM, Network，Appliance</td>
<td>Huawei、IBM, EMC, HP, Network Appliance</td>
</tr>
</tbody>
</table>

        
        <br>
        <div id="comment-container">
        </div>
        <div id="disqus_thread"></div>
    </div>
</div>
    </div>
</div>


<footer class="footer">
    <ul class="list-inline text-center">
        
        
        <li>
            <a target="_blank" href="https://www.zhihu.com/people/li-bo-2-25">
                            <span class="fa-stack fa-lg">
                                 <i class="iconfont icon-zhihu"></i>
                            </span>
            </a>
        </li>
        

        

        

        
        <li>
            <a target="_blank" href="https://github.com/liboo0731">
                            <span class="fa-stack fa-lg">
                                <i class="iconfont icon-github"></i>
                            </span>
            </a>
        </li>
        

        

    </ul>
    
    <p>
        <span>/</span>
        
        <span><a href="https://www.cnblogs.com/liboo/">H2K1R~ACE_博客园</a></span>
        <span>/</span>
        
        <span><a href="https://blog.csdn.net/weixin_40108079">H2K1E~ACE_CSDN</a></span>
        <span>/</span>
        
    </p>
    
    <p>
        <span id="busuanzi_container_site_pv">
            <span id="busuanzi_value_site_pv"></span>PV
        </span>
        <span id="busuanzi_container_site_uv">
            <span id="busuanzi_value_site_uv"></span>UV
        </span>
        Created By <a href="https://hexo.io/">Hexo</a>  Theme <a href="https://github.com/aircloud/hexo-theme-aircloud">AirCloud</a></p>
</footer>




</body>

<script>
    // We expose some of the variables needed by the front end
    window.hexo_search_path = "search.json"
    window.hexo_root = "/"
    window.isPost = true
</script>
<script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>
<script src="/js/index.js"></script>
<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>


    <script>
        /**
         *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
         *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
        */
        if( '' || '')
        var disqus_config = function () {
            this.page.url = '';  // Replace PAGE_URL with your page's canonical URL variable
            this.page.identifier = ''; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
        };

        (function() { // DON'T EDIT BELOW THIS LINE
            var d = document, s = d.createElement('script');
            s.src = 'https://airclouds-blog.disqus.com/embed.js';
            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
        })();
    </script>

</html>
